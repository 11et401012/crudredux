(window["webpackJsonpcrud-redux"]=window["webpackJsonpcrud-redux"]||[]).push([[0],{33:function(e,t,a){e.exports=a(52)},38:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(9),o=a.n(r),i=(a(38),a(20)),c=a(10),s=a(11),u=a(13),m=a(12),h=a(14),d=a(61),p=a(62),b=a(63),f=a(16),E=a(57),g=a(60),y=a(64),O=a(58),j=a(59),v=a(15),S=a(53),C=a(54),w=a(55),D=a(56),P=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={id:0,first:"",last:"",email:"",phone:"",location:"",hobby:""},a.onChange=function(e){a.setState(Object(v.a)({},e.target.name,e.target.value))},a.submitFormAdd=function(e){e.preventDefault();var t={id:a.state.id,first:a.state.first,last:a.state.last,email:a.state.email,phone:a.state.phone,location:a.state.location,hobby:a.state.hobby};console.log({data:t}),a.props.dispatch({type:"ADD_POST",data:t})},a.submitFormEdit=function(e){e.preventDefault(),fetch("http://localhost:3000/crud",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.state.id,first:a.state.first,last:a.state.last,email:a.state.email,phone:a.state.phone,location:a.state.location,hobby:a.state.hobby})}).then(function(e){return e.json()}).then(function(e){Array.isArray(e)?(a.props.updateState(e[0]),a.props.toggle()):console.log("failure")}).catch(function(e){return console.log(e)})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){if(this.props.item){var e=this.props.item,t=e.id,a=e.first,n=e.last,l=e.email,r=e.phone,o=e.location,i=e.hobby;this.setState({id:t,first:a,last:n,email:l,phone:r,location:o,hobby:i})}}},{key:"render",value:function(){return l.a.createElement(S.a,{onSubmit:this.props.item?this.submitFormEdit:this.submitFormAdd},l.a.createElement(C.a,null,l.a.createElement(w.a,{for:"first"},"First Name"),l.a.createElement(D.a,{type:"text",name:"first",id:"first",onChange:this.onChange,value:null===this.state.first?"":this.state.first})),l.a.createElement(C.a,null,l.a.createElement(w.a,{for:"last"},"Last Name"),l.a.createElement(D.a,{type:"text",name:"last",id:"last",onChange:this.onChange,value:null===this.state.last?"":this.state.last})),l.a.createElement(C.a,null,l.a.createElement(w.a,{for:"email"},"Email"),l.a.createElement(D.a,{type:"email",name:"email",id:"email",onChange:this.onChange,value:null===this.state.email?"":this.state.email})),l.a.createElement(C.a,null,l.a.createElement(w.a,{for:"phone"},"Phone"),l.a.createElement(D.a,{type:"text",name:"phone",id:"phone",onChange:this.onChange,value:null===this.state.phone?"":this.state.phone,placeholder:"ex. 555-555-5555"})),l.a.createElement(C.a,null,l.a.createElement(w.a,{for:"location"},"Location"),l.a.createElement(D.a,{type:"text",name:"location",id:"location",onChange:this.onChange,value:null===this.state.location?"":this.state.location,placeholder:"City, State"})),l.a.createElement(C.a,null,l.a.createElement(w.a,{for:"hobby"},"Hobby"),l.a.createElement(D.a,{type:"text",name:"hobby",id:"hobby",onChange:this.onChange,value:this.state.hobby})),l.a.createElement(E.a,null,"Submit"))}}]),t}(l.a.Component),x=Object(f.b)()(P),I=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).toggle=function(){a.setState(function(e){return{modal:!e.modal}})},a.state={modal:!1},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=l.a.createElement("button",{className:"close",onClick:this.toggle},"\xd7"),t=this.props.buttonLabel,a="",n="";return"Edit"===t?(a=l.a.createElement(E.a,{color:"warning",onClick:this.toggle,style:{float:"left",marginRight:"10px"}},t),n="Edit Item"):(a=l.a.createElement(E.a,{color:"success",onClick:this.toggle,style:{float:"left",marginRight:"10px"}},t),n="Add New Item"),l.a.createElement("div",null,a,l.a.createElement(y.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},l.a.createElement(O.a,{toggle:this.toggle,close:e},n),l.a.createElement(j.a,null,l.a.createElement(x,{addItemToState:this.props.addItemToState,updateState:this.props.updateState,toggle:this.toggle,item:this.props.item}))))}}]),t}(n.Component),T=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.items.map(function(t){return l.a.createElement("tr",{key:t.id},l.a.createElement("th",{scope:"row"},t.id),l.a.createElement("td",null,t.first),l.a.createElement("td",null,t.last),l.a.createElement("td",null,t.email),l.a.createElement("td",null,t.phone),l.a.createElement("td",null,t.location),l.a.createElement("td",null,t.hobby),l.a.createElement("td",null,l.a.createElement("div",{style:{width:"110px",float:"right"}},l.a.createElement(I,{buttonLabel:"Edit",item:t,updateState:e.props.updateState})," ",l.a.createElement(E.a,{color:"danger",onClick:function(){return e.deleteItem(t.id)}},"Del"))))});return l.a.createElement(g.a,{responsive:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"First"),l.a.createElement("th",null,"Last"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Phone"),l.a.createElement("th",null,"Location"),l.a.createElement("th",null,"Hobby"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,t))}}]),t}(n.Component),k=Object(f.b)(function(e){return{items:e}})(T),A=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={items:[]},a.addItemToState=function(e){a.setState(function(t){return{items:[].concat(Object(i.a)(t.items),[e])}})},a.updateState=function(e){var t=a.state.items.findIndex(function(t){return t.id===e.id}),n=[].concat(Object(i.a)(a.state.items.slice(0,t)),[e],Object(i.a)(a.state.items.slice(t+1)));a.setState({items:n})},a.deleteItemFromState=function(e){var t=a.state.items.filter(function(t){return t.id!==e});a.setState({items:t})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(d.a,{className:"App"},l.a.createElement(p.a,null,l.a.createElement(b.a,null,l.a.createElement("h1",{style:{margin:"20px 0"}},"CRUD Database"))),l.a.createElement(p.a,null,l.a.createElement(b.a,null,l.a.createElement(k,null))),l.a.createElement(p.a,null,l.a.createElement(b.a,null,l.a.createElement(I,{buttonLabel:"Add Item",addItemToState:this.addItemToState}))))}}]),t}(n.Component),L=a(17);a(50),a(51);function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return e.concat([t.data]);case"DELETE_POST":return e.filter(function(e){return e.id!==t.id});case"EDIT_POST":return e.map(function(e){return e.id===t.id?F({},e,{editing:!e.editing}):e});case"UPDATE":return e.map(function(e){return e.id===t.id?F({},e,{title:t.data.newTitle,message:t.data.newMessage,editing:!e.editing}):e});default:return e}},J=Object(L.b)(_);o.a.render(l.a.createElement(f.a,{store:J},l.a.createElement(A,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.87ac539c.chunk.js.map